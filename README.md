# 信息论与编码大作业 - LZ77与LZ78实现及优化

## LZ77优化：并行压缩

由于LZ77前后元素存在依赖关系，因此无法并行提速。而**并行压缩策略**的思路是牺牲一部分（甚至极少的）压缩率，以此换来成倍的压缩速度提升。

假设一个文件的长度为n字节，可以将该文件分为等长的k段，每段n/k字节。然后将这k段视作独立的k个文件，并各自采用LZ77压缩。这样，压缩总时间为原来的1/k。

而压缩后的多段三元组的存储格式为：

```
[length_1][length_2][length_3][delimiter]
<*,*,*><*,*,*><*,*,*><*,*,*><*,*,*>...
<*,*,*><*,*,*><*,*,*><*,*,*><*,*,*>...
<*,*,*><*,*,*><*,*,*><*,*,*><*,*,*>...
...
```

需要说明的是，`[length_n]`为一个无符号整数（占4字节），表示第n段有多少三元组；`[delimiter]`为一个分隔符（占1字节，全0），表示分段长度说明到此为止，之后全是三元组。

### 实验结果

数据长度为800000 bytes。

线程数 | 压缩时间 (ms) | 加速比 (%) | 压缩率
-     | -      | -    | -
1 (base) | 332 | 1.00 | 
1        | 342 | 0.97 | 
2        | 173 | 1.92 | 
3        | 124 | 2.68 | 
4        | 105 | 3.16 | 
5        |  95 | 3.49 | 
6        |  83 | 4.00 | 
7        |  76 | 4.37 | 
8        |  74 | 4.49 | 
